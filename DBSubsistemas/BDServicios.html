<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Servicios BD</title>
    <link rel="stylesheet" href="./../styles/style_BD.css">
</head>
<body>

    <header>
        <h1>Diseño de la Base de Datos: Servicios</h1>
    </header>

    <div class="container">

        <div class="section">
            <div class="navigation">
                <ul>
                    <li><a href="./../Submodulos/Servicios.html">[Regresar a Servicios]</a></li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>Diagrama de la base de datos</h2>
            
            <img src="./../Imagenes/Diagrama_Servicios.png" alt="Diagrama de la base de datos" style="width: 100%; max-width: 800px;">
        </div>

        <div class="section">
            <h2>Justificación del Diseño de la Base de Datos</h2>

            <h3>Tabla Servicios</h3>
            <h4>Propósito</h4>
            <p>Es la tabla principal, su propósito es almacenar toda la información específica y detallada de cada producto o servicio que ofreces.</p>
            
            <h3>Tabla Categorias</h3>
            <h4>Propósito</h4>
            <p>El propósito de esta tabla es agrupar y clasificar los servicios de una manera ordenada y consistente.</p>
            
            <h3>Tabla Estados</h3>
            <h4>Propósito</h4>
            <p>Esta tabla sirve para definir una lista oficial de los posibles estatus que un servicio puede tener (Activo, inactivo, en mantenimiento).</p>
            
            <h3>Tabla Disponibilidad de servicios</h3>
            <h4>Propósito</h4>
            <p>Esta tabla nos permiter saber los dias de la semana que estan disponibles cada servicio, de igual manera, el horario en el que da atención cada servicio.</p>
        </div>
        
        <div class="section">
            <h2>Normalización de la Base de Datos</h2>
            <p>Para asegurar que los datos estén bien organizados y sean consistentes, la base de datos se estructuró siguiendo las tres primeras formas normales (1FN, 2FN y 3FN).</p>
            <h3>1NF (Primera Forma Normal)</h3>
            <p>Cada tabla tiene una clave primaria única y todas las columnas son atómicas.</p>
            <h3>2NF (Segunda Forma Normal)</h3>
            <p>La tabla está en 1NF y todos los atributos no clave dependen completamente de la clave primaria.</p>
            <h3>3NF (Tercera Forma Normal)</h3>
            <p>La tabla está en 2NF y ningún atributo no clave depende de otro atributo no clave.</p>
        </div>

        <div class="section">
        <h2>Código SQL para Crear Tablas</h2>
        <pre><code>CREATE DATABASE SERVICIOS;

            -- Categorías de servicios
            CREATE TABLE Categorias (
                ID_Categoria INT IDENTITY(1,1) PRIMARY KEY,
                Nombre_Categoria NVARCHAR(100) NOT NULL,
                Descripcion_Categoria NVARCHAR(255)
            );

            -- Estados de servicios (Ej: Activo, Inactivo, Mantenimiento)
            CREATE TABLE Estados (
                ID_Estado INT IDENTITY(1,1) PRIMARY KEY,
                Nombre_Estado NVARCHAR(50) NOT NULL
            );

            -- Servicios principales
            CREATE TABLE Servicios (
                ID_Servicio INT IDENTITY(1,1) PRIMARY KEY,
                Nombre_Servicio NVARCHAR(150) NOT NULL,
                Descripcion_Detallada NVARCHAR(MAX),
                Precio_Venta DECIMAL(10,2) NOT NULL,
                Costo_Adquisicion DECIMAL(10,2) NULL,
                Impuestos_Aplicables DECIMAL(5,2) NULL, -- porcentaje o tasa
                Imagen_Referencia NVARCHAR(255) NULL,

                -- Llaves foráneas
                ID_Categoria INT NOT NULL,
                ID_Estado INT NOT NULL,

                CONSTRAINT FK_Servicios_Categorias FOREIGN KEY (ID_Categoria) REFERENCES Categorias(ID_Categoria),
                CONSTRAINT FK_Servicios_Estados FOREIGN KEY (ID_Estado) REFERENCES Estados(ID_Estado)
            );

            -- Disponibilidad de horarios de los servicios
            CREATE TABLE Disponibilidad_Servicios (
                ID_Disponibilidad INT IDENTITY(1,1) PRIMARY KEY,
                ID_Servicio INT NOT NULL,
                Dia_Semana NVARCHAR(20) NOT NULL, -- Ej: Lunes, Martes
                Hora_Inicio TIME NOT NULL,
                Hora_Fin TIME NOT NULL,

                CONSTRAINT FK_Disponibilidad_Servicios FOREIGN KEY (ID_Servicio) REFERENCES Servicios(ID_Servicio)
            );

        </code></pre>
        </div>

        <div class="section">
            <h2>Código SQL para Agregar Registros</h2>
            <h3>Registro de Categorias</h3>
            <pre><code>
                INSERT INTO Categorias (Nombre_Categoria, Descripcion_Categoria) VALUES
                ('Hospedaje', 'Tipos de habitaciones y suites para alojamiento de huéspedes.'),
                ('Alimentos y Bebidas', 'Servicios relacionados con restaurantes, bares y servicio a la habitación.'),
                ('Eventos y Banquetes', 'Renta de salones y paquetes para eventos sociales o corporativos.'),
                ('Bienestar y Recreación', 'Servicios de spa, gimnasio, alberca y actividades recreativas.'),
                ('Servicios Adicionales', 'Servicios complementarios como lavandería, transportación y tours.');
                GO
            </code></pre>

            <h3>Registro de Estados</h3>
            <pre><code>
                INSERT INTO Estados (Nombre_Estado) VALUES
                ('Disponible'),
                ('No Disponible'),
                ('En Mantenimiento'),
                ('Bajo Petición');
                GO
            </code></pre>

            <h3>Registro de Servicios</h3>
            <pre><code>
                INSERT INTO Servicios (Nombre_Servicio, Descripcion_Detallada, Precio_Venta, Costo_Adquisicion, Impuestos_Aplicables, Imagen_Referencia, ID_Categoria, ID_Estado) VALUES
                ('Habitación Estándar King', 'Confortable habitación con una cama King Size, TV de 42", Wi-Fi y baño privado. Vista al jardín.', 1850.00, 450.00, 18.00, 'img/habitacion_king.jpg', 1, 1),
                ('Suite de Lujo con Jacuzzi', 'Amplia suite con cama King Size, sala de estar, jacuzzi privado y balcón con vista al mar.', 4200.50, 980.00, 18.00, 'img/suite_jacuzzi.jpg', 1, 1),
                ('Desayuno Buffet "El Amanecer"', 'Buffet completo con estación de omelets, fruta fresca, panadería artesanal y platillos regionales.', 350.00, 120.00, 16.00, 'img/desayuno_buffet.jpg', 2, 1),
                ('Cena a la Carta en Restaurante "La Cava"', 'Experiencia culinaria gourmet con menú de autor y maridaje de vinos.', 950.00, 350.00, 16.00, 'img/cena_lacava.jpg', 2, 1),
                ('Renta de Salón "Gran Emperador" (8 horas)', 'Salón con capacidad para 200 personas, incluye mobiliario, proyector y sistema de audio.', 15000.00, 4500.00, 16.00, 'img/salon_eventos.jpg', 3, 4),
                ('Masaje Relajante "Serenidad"', 'Sesión de masaje de 60 minutos con aceites esenciales para liberar tensión y estrés.', 1100.00, 400.00, 16.00, 'img/masaje_spa.jpg', 4, 1),
                ('Acceso a Gimnasio 24h', 'Acceso ilimitado a nuestras instalaciones de gimnasio equipadas con maquinaria de última generación.', 0.00, 50.00, 0.00, 'img/gimnasio.jpg', 4, 1),
                ('Servicio de Lavandería (por prenda)', 'Lavado y planchado de prendas con entrega en 24 horas.', 85.00, 30.00, 16.00, 'img/lavanderia.jpg', 5, 1),
                ('Alberca Principal', 'Acceso a la alberca principal y área de camastros. Exclusivo para huéspedes.', 0.00, 100.00, 0.00, 'img/alberca.jpg', 4, 3); -- Ejemplo de un servicio en mantenimiento
                GO
            </code></pre>

            </code></pre>
            <h3>Registro Disponibilidad Servicios</h3>
            <pre><code>
                INSERT INTO Disponibilidad_Servicios (ID_Servicio, Dia_Semana, Hora_Inicio, Hora_Fin) VALUES
                -- Disponibilidad del Desayuno Buffet (Servicio ID: 3)
                (3, 'Lunes', '07:00:00', '11:30:00'),
                (3, 'Martes', '07:00:00', '11:30:00'),
                (3, 'Miércoles', '07:00:00', '11:30:00'),
                (3, 'Jueves', '07:00:00', '11:30:00'),
                (3, 'Viernes', '07:00:00', '11:30:00'),
                (3, 'Sábado', '07:00:00', '12:00:00'),
                (3, 'Domingo', '07:00:00', '12:00:00'),
                -- Disponibilidad del Restaurante "La Cava" (Servicio ID: 4)
                (4, 'Lunes', '18:00:00', '23:00:00'),
                (4, 'Martes', '18:00:00', '23:00:00'),
                (4, 'Miércoles', '18:00:00', '23:00:00'),
                (4, 'Jueves', '18:00:00', '23:00:00'),
                (4, 'Viernes', '18:00:00', '23:59:00'),
                (4, 'Sábado', '18:00:00', '23:59:00'),
                -- Disponibilidad del Spa para Masajes (Servicio ID: 6)
                (6, 'Lunes', '10:00:00', '19:00:00'),
                (6, 'Martes', '10:00:00', '19:00:00'),
                (6, 'Miércoles', '10:00:00', '19:00:00'),
                (6, 'Jueves', '10:00:00', '19:00:00'),
                (6, 'Viernes', '10:00:00', '20:00:00'),
                (6, 'Sábado', '10:00:00', '20:00:00'),
                (6, 'Domingo', '11:00:00', '17:00:00'),
                -- Disponibilidad del Gimnasio (Servicio ID: 7) - Es 24h, se puede representar así
                (7, 'Lunes', '00:00:00', '23:59:59'),
                (7, 'Martes', '00:00:00', '23:59:59'),
                (7, 'Miércoles', '00:00:00', '23:59:59'),
                (7, 'Jueves', '00:00:00', '23:59:59'),
                (7, 'Viernes', '00:00:00', '23:59:59'),
                (7, 'Sábado', '00:00:00', '23:59:59'),
                (7, 'Domingo', '00:00:00', '23:59:59');
                GO
            </code></pre>
        </div>
    </div>
</body>
</html>