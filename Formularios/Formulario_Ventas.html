<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Punto de Venta</title>
    <link rel="stylesheet" href="./../styles.css">
</head>
<body>

    <header>
        <h1>Registrar Nueva Venta</h1>
    </header>

    <div class="container">
        <div class="section">
            <form action="/guardar-venta" method="POST">
                <fieldset>
                    <legend>Encabezado de la Venta</legend>
                    <div class="pos-header-grid">
                        <div class="form-group">
                            <label for="fecha_venta">Fecha y Hora:</label>
                            <input type="datetime-local" id="fecha_venta" name="fecha_hora_venta" required>
                        </div>
                        <div class="form-group">
                            <label for="id_empleado">Empleado:</label>
                            <select id="id_empleado" name="id_empleado" required>
                                <option value="" disabled selected>Seleccionar empleado</option>
                                <option value="1">Juan Pérez</option>
                                <option value="2">Maria Garcia</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="id_cliente">Cliente Miembro (Opcional):</label>
                            <select id="id_cliente" name="id_cliente_miembro">
                                <option value="">N/A</option>
                                <option value="15">Ana Torres</option>
                                <option value="22">Carlos Ruiz</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="id_habitacion">Cargar a Habitación (Opcional):</label>
                            <select id="id_habitacion" name="id_habitacion_asociada">
                                <option value="">N/A</option>
                                <option value="101">Habitación 101</option>
                                <option value="205">Habitación 205</option>
                            </select>
                        </div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Detalle de Conceptos</legend>
                    <table class="items-table">
                        <thead>
                            <tr>
                                <th>Concepto</th>
                                <th>Cantidad</th>
                                <th>Precio Unit.</th>
                                <th>Descuento ($)</th>
                                <th>Subtotal</th>
                                <th>Acción</th>
                            </tr>
                        </thead>
                        <tbody id="detalle-venta-body">
                            </tbody>
                    </table>
                    <button type="button" id="agregar-item" class="btn btn-secondary">Añadir Concepto</button>
                </fieldset>

                <fieldset>
                    <legend>Totales y Pago</legend>
                    <div class="resumen-venta">
                        <p>Subtotal: <span id="resumen-subtotal">$0.00</span></p>
                        <p>Descuentos: <span id="resumen-descuentos">-$0.00</span></p>
                        <p>Impuestos (16%): <span id="resumen-impuestos">+$0.00</span></p>
                        <p class="total-general">Total a Pagar: <span id="resumen-total">$0.00</span></p>
                    </div>
                    <div id="pagos-container">
                        </div>
                    <button type="button" id="agregar-pago" class="btn btn-secondary">Añadir Método de Pago</button>
                </fieldset>
                
                <div class="button-container">
                     <button type="submit" class="btn btn-primary">Finalizar y Guardar Venta</button>
                     <button type="button" class="btn btn-secondary" onclick="history.back()">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <script src="logica-venta.js"></script>
</body>
</html>